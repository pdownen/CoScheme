% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.21 of 2022/01/12
%

\documentclass[runningheads]{llncs}
%
\usepackage[T1]{fontenc}
% T1 fonts will be used to generate the final print and online PDFs,
% so please use T1 fonts in your manuscript whenever possible.
% Other font encondings may result in incorrect characters.
%
\usepackage{graphicx}
% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
\usepackage{xcolor}
\usepackage[shortlabels,inline]{enumitem}

% llncs.cls clashes with amsthm.
% Save the LNCS proof environment defined by the class
\let\lncsproof\proof \let\lncsendproof\endproof \let\lncsqed\qed
% Remove the definitions in order to load amsthm
\let\proof\relax\let\endproof\relax
% Load AMS styles
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
% restore the LNCS class defined proof
\let\proof\lncsproof \let\endproof\lncsendproof \let\qed\lncsqed

\usepackage{thmtools}
\usepackage{stmaryrd}
\usepackage{braket}
\usepackage{proof}

\usepackage{minted}

\usepackage{hyperref}
\usepackage{cleveref}

\usepackage{preamble}

% If you use the hyperref package, please uncomment the following two lines
% to display URLs in blue roman font according to Springer's eBook style:
\usepackage{color}
\renewcommand\UrlFont{\color{blue}\rmfamily}
\urlstyle{rm}

% Unicode characters:
\DeclareUnicodeCharacter{3BB}{$\lambda$}

% Code settings:
\setminted{fontsize=\footnotesize}

\begin{document}
%
\title{CoScheme: Compositional Copatterns in Scheme}
%
%\titlerunning{Abbreviated paper title}
% If the paper title is too long for the running head, you can set
% an abbreviated paper title here
%
\author{
  Paul Downen\inst{1}\orcidID{0000-0003-0165-9387}
  \and \\
  Adriano Corbelino II\inst{1}\orcidID{0000-0002-6014-6189}
}
%
\authorrunning{P. Downen \and A. Corbelino II}
% First names are abbreviated in the running head.
% If there are more than two authors, 'et al.' is used.
%
\institute{
  University of Massachusetts Lowell, Lowell MA 01854, USA \\
  \email{Paul\_Downen@uml.edu} \\
  \email{Adriano\_VilargaCorbelino@uml.edu}
}
%
\maketitle              % typeset the header of the contribution
%
\begin{abstract}
  Since their introduction, copatterns have promised to extend functional languages --- with their familiar pattern matching facilities --- to synthesize and work with infinite objects through a finite set of observations.
 Thus far, their adoption in practice has been limited and primarily associated with specific tools like proof assistants.
 With that in mind, we aim to make copattern matching usable for ordinary functional programmers by implementing them as macros in the Scheme and Racket programming languages.
 Our approach focuses on composable copatterns, which can be combined in multiple directions and offer a new solution to the expression problem through novel forms of extensibility.
 To check the correctness of the implementation and to reason equationally about copattern-matching code, we describe an equational theory for copatterns with a sound, selective translation into $\lambda$-calculus.
\keywords{Codata \and Copatterns \and Scheme \and Macros \and Composition \and Expression Problem.}
\end{abstract}
%
%
%
\section{Introduction} \label{sec-intro}

\input{sec_introduction}

\section{Programming with Composable Copatterns in Scheme}
\label{sec-examples}
\input{sec_examples}

\section{A Composable Copattern Macro Library}
\label{sec-api}

\subsection{Challenges}
\label{sec-challenges}
\input{sec_challenges}

\subsection{The library API and macro desugaring}
\label{sec-desugaring}
\input{sec_desugaring}

\subsection{Practical details of macro definitions}
\label{sec-macro}
\input{sec_macros}

\section{A Core Copattern Calculus}
\label{sec-translation}

\subsection{Double-barrel translation}
\input{sec_translation}

\subsection{Correctness}
\label{sec-correctness}
\input{sec_correctness}

% \section{Optimizing Away Administrative Reductions} \label{sec-opt}

% \input{sec_inlining}

\section{Related Work} \label{sec-related-work}

\input{sec_related-work}

\section{Conclusion} \label{sec-conclusion}

\input{sec_conclusion}

\begin{credits}
\subsubsection{\ackname}
% 
This material is based upon work supported by the National Science Foundation
under Grant No. 2245516.

\subsubsection{\discintname}
%
The authors have no competing interests to declare that are
relevant to the content of this article.
\end{credits}
%
% ---- Bibliography ----
%
% BibTeX users should specify bibliography style 'splncs04'.
% References will then be sorted and formatted in the correct style.
%
\bibliographystyle{splncs04}
% \bibliography{refs}
\bibliography{refs}

\newpage
\appendix

% \section{Appendix A: Expanding the implementation}
% \input{sec_nest}

\section{Proofs}
\label{sec:proofs}
\input{sec_proofs}

\end{document}
